<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Password Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #e3eafc 0%, #f6f8ff 100%);
      min-height: 100vh;
      margin: 0;
      font-family: 'Inter', Arial, sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      color: #222;
      transition: background 0.3s, color 0.3s;
    }
    body.dark {
      background: linear-gradient(135deg, #232935 0%, #1a1f28 100%);
      color: #f7f7f7;
    }
    body.dark input,
    body.dark #customPassword {
      background: #232935;
      color: #f7f7f7;
      border-color: #3e7bfa;
    }
    body.dark .bar-bg {
      background: #333849;
    }
    header {
      width: 100%;
      max-width: 900px;
      margin: 0 auto;
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .header-row {
      width: 100%;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      position: relative;
      min-height: 48px;
      padding-top: 20px;
    }
    .lang-toggle, .theme-toggle {
      background: #f6f8ff;
      border: none;
      border-radius: 50%;
      width: 38px;
      height: 38px;
      font-size: 19px;
      box-shadow: 0 2px 10px #e3eafc;
      cursor: pointer;
      transition: background .2s;
      z-index: 10;
      color: #222;
      margin: 0 8px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .lang-toggle { margin-left: 0; }
    .theme-toggle { margin-right: 0; }
    body.dark .theme-toggle, body.dark .lang-toggle {
      background: #232935;
      color: #f7f7f7;
      box-shadow: 0 2px 10px #232935;
    }
    h1 {
      margin: 36px 0 28px 0;
      font-size: 34px;
      font-weight: 700;
      letter-spacing: 1px;
      text-align: center;
      width: 100%;
    }
    .card {
      width: 100%;
      max-width: 900px;
      margin: 0 10px 40px 10px;
      position: relative;
      background: none;
      box-shadow: none;
      border-radius: 0;
      border: none;
      padding: 0 0 44px 0;
    }
    .main-grid {
      display: flex;
      gap: 42px;
      align-items: flex-start;
      justify-content: center;
    }
    .controls-col {
      flex: 1.2;
      min-width: 260px;
      max-width: 320px;
      display: flex;
      flex-direction: column;
      gap: 18px;
    }
    .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 9px 18px;
      align-items: center;
    }
    label {
      font-size: 16px;
      display: flex;
      align-items: center;
      gap: 4px;
    }
    input[type="number"],
    input[type="text"] {
      padding: 7px 11px;
      font-size: 15px;
      border: 1.5px solid #d3dbef;
      border-radius: 6px;
      background: #fff;
      transition: border .2s, background .3s, color .3s;
    }
    input[type="number"]:focus,
    input[type="text"]:focus {
      border: 1.5px solid #a0b9fc;
      outline: none;
    }
    input[type="checkbox"] {
      accent-color: #3e7bfa;
      width: 18px;
      height: 18px;
    }
    .btns {
      display: flex;
      gap: 13px;
      flex-wrap: wrap;
    }
    button:not(.theme-toggle):not(.lang-toggle):not(.copy-btn) {
      background: linear-gradient(90deg,#3e7bfa 0%,#7bb4fa 100%);
      font-size: 15px;
      font-weight: 600;
      border: none;
      border-radius: 7px;
      padding: 10px 20px;
      color: #fff;
      box-shadow: 0 1px 3px #e3eafc;
      cursor: pointer;
      transition: background .2s, transform .1s;
    }
    button:not(.theme-toggle):not(.lang-toggle):not(.copy-btn):hover {
      background: linear-gradient(90deg,#224a8d 0%,#3e7bfa 100%);
      transform: translateY(-2px) scale(1.02);
    }
    .password-col {
      flex: 2.2;
      min-width: 320px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: stretch;
    }
    #password-container {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
      min-height: 48px;
      border: none;
      background: none;
      border-radius: 0;
      padding: 0;
    }
    #password {
      font-size: 25px;
      font-weight: 600;
      color: #3e7bfa;
      word-break: break-all;
      text-align: left;
      flex: 1;
    }
    body.dark #password {
      color: #7bb4fa;
    }
    .copy-btn {
      background: none;
      border: none;
      font-size: 22px;
      color: #3e7bfa;
      cursor: pointer;
      margin-left: 16px;
      padding: 4px;
      transition: color .2s;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .copy-btn:hover { color: #224a8d; }
    body.dark .copy-btn { color: #7bb4fa; }
    body.dark .copy-btn:hover { color: #fff; }
    .material-icons {
      font-size: 28px;
      vertical-align: middle;
      line-height: 1;
    }
    .bar-bg {
      background: #e3eafc;
      border-radius: 7px;
      height: 10px;
      width: 100%;
      margin-bottom: 6px;
      overflow: hidden;
      box-shadow: none;
    }
    .bar-fill {
      height: 100%;
      border-radius: 7px;
      transition: width .4s, background .3s;
      width: 0%;
      background: #f00;
    }
    .strong .bar-fill { background: #44d47e; }
    .medium .bar-fill { background: #ffb740; }
    .weak .bar-fill { background: #f43a3a; }
    #strength, #userStrength {
      font-size: 15px;
      margin-bottom: 12px;
      font-weight: 600;
      text-align: left;
    }
    .custom-input {
      padding: 0;
      margin-top: 10px;
      margin-bottom: 0;
      box-sizing: border-box;
      text-align: left;
      border: none;
      background: none;
    }
    #customPrompt {
      margin-bottom: 7px;
    }
    #customPassword {
      width: 80%;
      margin-bottom: 8px;
    }
    @media (max-width: 991px) {
      .main-grid { flex-direction: column; gap: 20px; }
      .card { padding: 24px 0 24px 0; }
      .controls-col, .password-col { min-width: 0; max-width: 100%; }
      #password { font-size: 20px; }
      h1 { font-size: 24px; }
      .header-row { min-height: 38px; }
    }
    @media (max-width: 600px) {
      body { align-items: flex-start; }
      header, .card { max-width: 100vw; }
      header { padding: 0 0 10px 0; }
      h1 { font-size: 22px; margin: 24px 0 20px 0; padding: 0 8px; }
      .header-row {
        min-height: 0;
        padding: 6px 8px 0 8px;
      }
      .lang-toggle, .theme-toggle {
        width: 44px;
        height: 44px;
        font-size: 24px;
        box-shadow: 0 2px 10px #e3eafc;
        margin: 0;
      }
      .card {
        background: none;
        box-shadow: none;
        border-radius: 0;
        border: none;
        margin: 0 0 18px 0;
        padding: 12px 2vw 24px 2vw;
        display: flex;
        flex-direction: column;
        gap: 18px;
      }
      .main-grid {
        flex-direction: column;
        gap: 0;
      }
      .controls-col, .password-col {
        min-width: 0;
        max-width: 100%;
        width: 100%;
        gap: 10px;
      }
      .controls {
        flex-direction: column;
        align-items: flex-start;
        gap: 7px 0;
        width: 100%;
        background: none;
        border-radius: 0;
        box-shadow: none;
        border: none;
        padding-left: 0;
        padding-right: 0;
      }
      label {
        font-size: 17px;
        gap: 6px;
      }
      input[type="number"],
      input[type="text"] {
        width: 100%;
        box-sizing: border-box;
        font-size: 18px;
        padding: 11px 12px;
        margin-bottom: 10px;
      }
      .btns {
        flex-direction: column;
        width: 100%;
        gap: 10px 0;
      }
      .btns button,
      .custom-input button {
        width: 100%;
        font-size: 18px;
        padding: 13px 0;
        margin: 0 0 8px 0;
      }
      #password-container {
        background: none;
        border: none;
        border-radius: 0;
        padding: 0;
        min-height: 56px;
        margin-bottom: 8px;
        align-items: center;
        gap: 8px;
        width: 100%;
      }
      #password {
        font-size: 20px;
        word-break: break-all;
      }
      .copy-btn {
        font-size: 28px;
        margin-left: 6px;
        padding: 0 2px;
      }
      .material-icons {
        font-size: 30px;
      }
      .bar-bg {
        margin-bottom: 10px;
        height: 12px;
        border-radius: 8px;
      }
      #strength, #userStrength {
        font-size: 16px;
        margin-bottom: 8px;
      }
      .custom-input {
        margin-top: 12px;
        padding: 0;
        width: 100%;
        background: none;
        border-radius: 0;
        box-shadow: none;
        border: none;
      }
      #customPrompt {
        margin-bottom: 6px;
        font-size: 15px;
      }
      #customPassword {
        font-size: 18px;
        margin-bottom: 7px;
        width: 100%;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-row">
      <button class="lang-toggle" onclick="toggleLanguage()">üá∑üá∫</button>
      <button class="theme-toggle" onclick="toggleTheme()">üåô</button>
    </div>
    <h1 id="title">üîê –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π</h1>
  </header>
  <div class="card">
    <div class="main-grid">
      <div class="controls-col">
        <div class="controls">
          <label><span data-text="length">–î–ª–∏–Ω–∞</span>:
            <input type="number" id="length" min="4" max="32" value="12">
          </label>
          <label>
            <input type="checkbox" id="letters" checked>
            <span data-text="letters">–ë—É–∫–≤—ã</span>
          </label>
          <label>
            <input type="checkbox" id="numbers" checked>
            <span data-text="numbers">–¶–∏—Ñ—Ä—ã</span>
          </label>
          <label>
            <input type="checkbox" id="symbols" checked>
            <span data-text="symbols">–°–∏–º–≤–æ–ª—ã</span>
          </label>
        </div>
        <div class="btns">
          <button onclick="generatePassword()" data-text="generate">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å</button>
          <button onclick="generatePhrase()" data-text="phrase">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ—Ä–∞–∑—É</button>
        </div>
      </div>
      <div class="password-col">
        <div id="password-container">
          <span id="password">–ù–∞–∂–º–∏—Ç–µ "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å"</span>
          <button class="copy-btn" onclick="copyPassword()" title="–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å">
            <span class="material-icons">content_copy</span>
          </button>
        </div>
        <div class="bar-bg"><div class="bar-fill" id="strengthBar"></div></div>
        <div id="strength"></div>
        <div class="custom-input">
          <p id="customPrompt">üîé –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–π –ø–∞—Ä–æ–ª—å:</p>
          <input type="text" id="customPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–π –ø–∞—Ä–æ–ª—å">
          <button onclick="onUserCheck()" id="userCheckBtn">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
          <div class="bar-bg" style="margin-bottom:6px;"><div class="bar-fill" id="userStrengthBar"></div></div>
          <div id="userStrength"></div>
        </div>
      </div>
    </div>
  </div>
  <script>
    // English word list for phrase passwords
    const words = [
      "forest", "dog", "house", "river", "mountain", "snow", "day", "cat", "moon", "bridge",
      "brother", "world", "bug", "rain", "tea", "path", "pond", "shadow", "chair", "eye"
    ];

    const translations = {
      ru: {
        title: "üîê –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª–µ–π",
        length: "–î–ª–∏–Ω–∞",
        letters: "–ë—É–∫–≤—ã",
        numbers: "–¶–∏—Ñ—Ä—ã",
        symbols: "–°–∏–º–≤–æ–ª—ã",
        generate: "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–æ–ª—å",
        phrase: "–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ—Ä–∞–∑—É",
        copy: "–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å",
        strengthWeak: "–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å: –°–õ–ê–ë–´–ô",
        strengthMed: "–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å: –°–†–ï–î–ù–ò–ô",
        strengthStrong: "–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å: –°–ò–õ–¨–ù–´–ô",
        customPrompt: "üîé –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–π –ø–∞—Ä–æ–ª—å:",
        copied: "–ü–∞—Ä–æ–ª—å —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!",
        generateFirst: "–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–∞—Ä–æ–ª—å!",
        userCheck: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–∞—Ä–æ–ª—å"
      },
      en: {
        title: "üîê Password Generator",
        length: "Length",
        letters: "Letters",
        numbers: "Numbers",
        symbols: "Symbols",
        generate: "Generate Password",
        phrase: "Generate Phrase",
        copy: "Copy",
        strengthWeak: "Strength: WEAK",
        strengthMed: "Strength: MEDIUM",
        strengthStrong: "Strength: STRONG",
        customPrompt: "üîé Check your password:",
        copied: "Password copied!",
        generateFirst: "Please generate a password first!",
        userCheck: "Check password"
      }
    };

    let currentLang = "ru";

    function toggleLanguage() {
      currentLang = currentLang === "ru" ? "en" : "ru";
      const t = translations[currentLang];

      document.getElementById("title").innerText = t.title;
      document.querySelector('[data-text="length"]').innerText = t.length;
      document.querySelector('[data-text="letters"]').innerText = t.letters;
      document.querySelector('[data-text="numbers"]').innerText = t.numbers;
      document.querySelector('[data-text="symbols"]').innerText = t.symbols;
      document.querySelector('[data-text="generate"]').innerText = t.generate;
      document.querySelector('[data-text="phrase"]').innerText = t.phrase;
      document.getElementById("customPrompt").innerText = t.customPrompt;
      document.getElementById("userCheckBtn").innerText = t.userCheck;
      document.querySelector(".lang-toggle").innerText = currentLang === "ru" ? "üá∑üá∫" : "üá∫üá∏";
      checkStrength(document.getElementById("password").innerText);
    }

    function generatePassword() {
      const length = Math.max(4, parseInt(document.getElementById("length").value) || 12);
      const useLetters = document.getElementById("letters").checked;
      const useNumbers = document.getElementById("numbers").checked;
      const useSymbols = document.getElementById("symbols").checked;

      let chars = "";
      let availableTypes = [];
      if (useLetters) {
        chars += "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
        availableTypes.push("letter");
      }
      if (useNumbers) {
        chars += "0123456789";
        availableTypes.push("number");
      }
      if (useSymbols) {
        chars += "!@#$%^&*()_+-=[]{}|;:,.<>?";
        availableTypes.push("symbol");
      }

      if (chars === "") {
        alert("–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Ç–∏–ø —Å–∏–º–≤–æ–ª–æ–≤!");
        return;
      }

      let password = "";

      let forced = "";
      if (useLetters) forced += "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(Math.random() * 52));
      if (useNumbers) forced += "0123456789".charAt(Math.floor(Math.random() * 10));
      if (useSymbols) forced += "!@#$%^&*()_+-=[]{}|;:,.<>?".charAt(Math.floor(Math.random() * 24));

      for (let i = 0; i < length - forced.length; i++) {
        password += chars.charAt(Math.floor(Math.random() * chars.length));
      }

      password += forced;
      password = password.split('').sort(() => Math.random() - 0.5).join('');

      document.getElementById("password").innerText = password;
      checkStrength(password);
    }

    function generatePhrase() {
      let phrase = "";
      for (let i = 0; i < 4; i++) {
        const word = words[Math.floor(Math.random() * words.length)];
        phrase += word.charAt(0).toUpperCase() + word.slice(1);
        if (i < 3) phrase += "-";
      }
      const number = Math.floor(Math.random() * 100);
      const symbol = "!@#$%&*"[Math.floor(Math.random() * 8)];
      phrase += "-" + number + symbol;

      document.getElementById("password").innerText = phrase;
      checkStrength(phrase);
    }

    function copyPassword() {
      const password = document.getElementById("password").innerText;
      if (!password || password.includes("–ù–∞–∂–º–∏—Ç–µ") || password.includes("Click")) {
        alert(translations[currentLang].generateFirst);
        return;
      }
      navigator.clipboard.writeText(password);
      alert(translations[currentLang].copied);
    }

    function toggleTheme() {
      const body = document.body;
      body.classList.toggle('dark');
      const btn = document.querySelector('.theme-toggle');
      btn.innerText = body.classList.contains('dark') ? 'üåû' : 'üåô';
    }

    function checkStrength(password) {
      const strength = document.getElementById("strength");
      const bar = document.getElementById("strengthBar");
      let score = 0;

      if (password.length >= 12) score++;
      if (/[A-Z]/.test(password) && /[a-z]/.test(password)) score++;
      if (/\d/.test(password)) score++;
      if (/[^A-Za-z0-9]/.test(password)) score++;

      let percent = (score / 4) * 100;
      bar.style.width = percent + "%";
      bar.parentNode.className = "bar-bg";
      bar.className = "bar-fill";

      if (score <= 1) {
        strength.innerText = translations[currentLang].strengthWeak;
        strength.className = "weak";
        bar.classList.add("weak");
      } else if (score === 2 || score === 3) {
        strength.innerText = translations[currentLang].strengthMed;
        strength.className = "medium";
        bar.classList.add("medium");
      } else {
        strength.innerText = translations[currentLang].strengthStrong;
        strength.className = "strong";
        bar.classList.add("strong");
      }
    }

    function checkStrengthUser(password) {
      const strength = document.getElementById("userStrength");
      const bar = document.getElementById("userStrengthBar");
      let score = 0;

      if (password.length >= 12) score++;
      if (/[A-Z]/.test(password) && /[a-z]/.test(password)) score++;
      if (/\d/.test(password)) score++;
      if (/[^A-Za-z0-9]/.test(password)) score++;

      let percent = (score / 4) * 100;
      bar.style.width = percent + "%";
      bar.parentNode.className = "bar-bg";
      bar.className = "bar-fill";

      if (!password) {
        strength.innerText = "";
        bar.style.width = "0%";
        bar.classList.remove("weak", "medium", "strong");
        strength.className = "";
        return;
      }

      if (score <= 1) {
        strength.innerText = translations[currentLang].strengthWeak;
        strength.className = "weak";
        bar.classList.add("weak");
      } else if (score === 2 || score === 3) {
        strength.innerText = translations[currentLang].strengthMed;
        strength.className = "medium";
        bar.classList.add("medium");
      } else {
        strength.innerText = translations[currentLang].strengthStrong;
        strength.className = "strong";
        bar.classList.add("strong");
      }
    }

    function onUserCheck() {
      const password = document.getElementById("customPassword").value;
      checkStrengthUser(password);
    }
  </script>
</body>
</html>
